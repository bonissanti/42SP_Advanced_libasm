#stages:
#    - build
#    - test
#
#variables:
#    LIBRARY_NAME: "libasm.a"
#    OBJ_DIR: "obj"
#
#.common_setup: &common_setup
#    before_script:
#        - echo "Starting job on $(date)"
#        - echo "Working directory: $(pwd)"
#
#build_library:
#    stage: build
#    <<: *common_setup
#    script:
#        - echo "üßπ Cleaning workspace..."
#        - make fclean > /dev/null 2>&1 || true
#
#        - echo "üî® Building $LIBRARY_NAME..."
#        - make > make_output.log 2>&1
#        - make_exit_code=$?
#
#        - |
#            if [ $make_exit_code -ne 0 ]; then
#                echo "‚ùå Make command failed with exit code: $make_exit_code"
#                cat make_output.log
#                exit 1
#            fi
#
#        - |
#            if [ ! -f "$LIBRARY_NAME" ]; then
#                echo "‚ùå Binary '$LIBRARY_NAME' not created"
#                ls -la
#                exit 1
#            fi
#
#        - echo "‚úÖ Binary created successfully: $LIBRARY_NAME"
#        - ls -lh $LIBRARY_NAME